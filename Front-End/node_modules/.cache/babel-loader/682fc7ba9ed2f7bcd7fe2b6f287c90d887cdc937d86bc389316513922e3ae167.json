{"ast":null,"code":"var _jsxFileName = \"/home/user/Documents/Performance-main/src/Components/Text-Area/Text-Area.component.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport Web3 from \"web3\";\nimport FileUpload from \"../File/File.component\";\nimport './Text-Area.styles.css';\nimport Demo from \"./Demo\";\nimport { useSelector } from 'react-redux';\nimport { selectAccount } from \"../../accountSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction TextArea() {\n  _s();\n  // Getting and setting Solidity code from text box\n  const [text, setText] = useState(\"\");\n  // Getting and setting constructor input arguments from input box(es)\n  const [inputValues, setInputValues] = useState([]);\n  // Getting and setting constructor input arguments from ABI\n  const [constructorInputs, setConstructorInputs] = useState([]);\n  // Getting and setting function input arguments from ABI\n  const [functionInputs, setFunctionInputs] = useState([]);\n  // Setting compiled to true if compile-button is pressed\n  const [compiled, setCompiled] = useState(false);\n  // Setting deployed to true if deploy-button is pressed\n  const [deployed, setDeployed] = useState(false);\n  // Getting and setting ABI from compile-button\n  const [ABI, setABI] = useState(\"\");\n  // Getting and setting Bytecode from compile-button\n  const [ByteCode, setByteCode] = useState(\"\");\n  // Getting and setting the contract address from deploy-button\n  const [ContractAddress, setContractAddress] = useState(\"\");\n  // Initializing the web3 object\n  const [web3, setWeb3] = useState(null);\n  // Getting and setting selected function of the deployed contract\n  const [selectedFunction, setSelectedFunction] = useState('');\n  // Getting and setting input parameters of selected function of the deployed contract\n  const [functionInputValues, setfunctionInputValues] = useState([]);\n  // Getting and setting the performance metric for analysis of the deployed contract\n  const [selectedMetric, setSelectedMetric] = useState('');\n  // Getting and setting the input batch transactions for throughput analysis of the deployed contract\n  const [selectedBatch, setselectedBatch] = useState('');\n  //\n  const account = useSelector(selectAccount);\n  useEffect(() => {\n    // Check if Web3 is available\n    if (window.ethereum) {\n      // Use MetaMask's provider\n      const web3Instance = new Web3(window.ethereum);\n      console.log(web3Instance);\n      setWeb3(web3Instance);\n    } else {\n      console.error('MetaMask not detected. Please install MetaMask.');\n    }\n  }, []);\n\n  // Function to handle changes in input values\n  const handleInputChange = (index, value) => {\n    const newInputValues = [...inputValues];\n    if (constructorInputs[index].type === 'uint256') {\n      console.log('Number');\n      newInputValues[index] = Number(value);\n    } else {\n      console.log(constructorInputs);\n      newInputValues[index] = value;\n    }\n    setInputValues(newInputValues);\n  };\n  const handleTextAreaChange = async e => {\n    setText(e.target.value);\n  };\n  const handleFunctionChange = event => {\n    setSelectedFunction(event.target.value);\n    setfunctionInputValues([]); // Reset input values when the function changes\n  };\n\n  const handlefunctionInputChange = (event, index) => {\n    const newInputValues = [...inputValues];\n    newInputValues[index] = event.target.value;\n    setfunctionInputValues(newInputValues);\n  };\n  const handleMetricChange = event => {\n    setSelectedMetric(event.target.value);\n  };\n  const handleTransactionsChange = event => {\n    setselectedBatch(event.target.value);\n  };\n  async function compileContract() {\n    const params = {\n      contractName: 'Storage',\n      sourceCode: text,\n      network: 'Something'\n    };\n    try {\n      console.log(\"At text area\");\n      const response = await axios.get('http://10.1.33.124:8000/compile-and-deploy', {\n        params\n      });\n      console.log(response.data);\n      if (response.data.result.abi) {\n        window.alert('Compiled successfully');\n      } else {\n        window.alert(response.data.result);\n      }\n      setByteCode(response.data.result.bytecode);\n      setABI(response.data.result.abi);\n      // Find the constructor in the ABI\n      const constructor = response.data.result.abi.find(item => item.type === 'constructor');\n      if (constructor) {\n        // Access constructor parameters and their types\n        const constructorInputs = constructor.inputs || [];\n        console.log('Constructor Parameters:');\n        constructorInputs.forEach(param => {\n          console.log(`Name: ${param.name}, Type: ${param.type}`);\n        });\n        setConstructorInputs(constructorInputs);\n      } else {\n        console.log('No constructor found in the ABI.');\n      }\n      console.log('Constructor Inputs', constructorInputs);\n      setCompiled(true);\n\n      // await sleep(5000);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      // console.log('Metamask', account);\n    }\n  }\n\n  // async function connectToMetaMask() {\n  //     try {\n  //         if (window.ethereum) {\n  //             const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n  //             const selectedAccount = accounts[0];\n  //             console.log('Connected to MetaMask. Selected Account:', selectedAccount);\n  //             return selectedAccount;\n  //         } else {\n  //             console.error('MetaMask not detected.');\n  //             return null;\n  //         }\n  //     } catch (error) {\n  //         console.error('Error connecting to MetaMask:', error);\n  //         return null;\n  //     }\n  // }\n\n  // Function to deploy the contract\n  const deployContract = async () => {\n    if (!compiled) {\n      window.alert('Please compile the contract first.');\n      return;\n    } else if (!account) {\n      try {\n        console.log(\"At deploy contracts elif \");\n        const api = {\n          status: false,\n          url: ''\n        };\n        const params = {\n          network: 'Polygon-Mumbai',\n          API: api,\n          ABI: Demo,\n          ByteCode: ByteCode,\n          inputValues: inputValues\n        };\n        const response = await axios.get('http://10.1.33.124:8000/deploy-contract', {\n          params\n        });\n        console.log(response.data);\n        if (response.data.result.perf) {\n          window.alert('Measured successfully');\n        } else {\n          window.alert('Eror during measurments: ', response.data.result.perf);\n        }\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        // console.log('Metamask', account);\n      }\n    } else {\n      try {\n        // Use Web3.js to create a contract instance\n        // const selectedAccount = await connectToMetaMask();\n        // const contract = new web3.eth.Contract(ABI);\n        // // Deploy the contract\n        // const deployedContract = await contract\n        //     .deploy({\n        //         data: ByteCode,\n        //         arguments: inputValues\n        //     })\n        //     .send({\n        //         from: selectedAccount,\n        //         gas: '5000000', // Adjust the gas limit accordingly\n        //     });\n        // console.log('Contract deployed at:', deployedContract.options.address);\n        // setContractAddress(deployedContract.options.address);\n        // const params = {\n        //     name: 'Something',\n        //     network: 'Polygon Mumbai',\n        //     deployer: selectedAccount,\n        //     address: deployedContract.options.address\n        // };\n        // const response = await axios.get('http://10.1.33.124:8000/write-to-contract-csv', { params });\n        // console.log(response.data);\n        const ftns = Demo.filter(item => item.type === 'function').map(func => {\n          return {\n            name: func.name,\n            type: func.type,\n            stateMutability: func.stateMutability,\n            // params: func.inputs.length,\n            inputs: func.inputs.map(param => ({\n              name: param.name,\n              type: param.type\n            }))\n          };\n        });\n        setFunctionInputs(ftns);\n        setDeployed(true);\n      } catch (error) {\n        console.error('Error deploying smart contract:', error);\n      }\n    }\n  };\n  async function measureMetrics() {\n    // setDeployed(true);\n    if (!deployed) {\n      window.alert('Deploy the smart contract first');\n    } else if (!account) {\n      try {\n        console.log(\"At measure metrics elif \");\n        const ftn = functionInputs.filter(item => item.name === selectedFunction);\n        const type = ftn[0].stateMutability;\n        const api = {\n          status: false,\n          url: ''\n        };\n        const params = {\n          network: 'Polygon-Mumbai',\n          API: api,\n          ABI: Demo,\n          address: '0x59226514FDDD51dA07dbd5adD54798F4236aBDB4',\n          metric: selectedMetric,\n          ftn: selectedFunction,\n          ftnInputs: functionInputValues,\n          type: type,\n          transactions: selectedBatch\n        };\n        const response = await axios.get('http://10.1.33.124:8000/measure-function-call-metrics', {\n          params\n        });\n        console.log(response.data);\n        if (response.data.result.perf) {\n          window.alert('Measured successfully');\n        } else {\n          window.alert('Eror during measurments: ', response.data.result.perf);\n        }\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        // console.log('Metamask', account);\n      }\n    } else {\n      console.log(functionInputs);\n      console.log(selectedFunction);\n      console.log('Function Inputs: ', functionInputValues);\n      console.log('Metric: ', selectedMetric);\n      // const selectedAccount = await connectToMetaMask();\n      const selectedAccount = account;\n      // const contract = new web3.eth.Contract(ABI, ContractAddress);\n      const contract = new web3.eth.Contract(Demo, '0x59226514FDDD51dA07dbd5adD54798F4236aBDB4');\n      const ftn = functionInputs.filter(item => item.name === selectedFunction);\n      console.log('ftn', ftn);\n      switch (selectedMetric) {\n        case 'Latency':\n          if (ftn[0].stateMutability === 'pure' || ftn[0].stateMutability === 'view') {\n            const startTime = performance.now();\n            const response = await contract.methods[selectedFunction](...functionInputValues).call();\n            const endTime = performance.now();\n            const latency = (endTime - startTime) / 1000;\n            console.log(response);\n            console.log('Latency: ', latency);\n          } else {\n            console.log('At latnecy else');\n            // const data = contract.methods[selectedFunction](...functionInputValues).encodeABI();\n            const gas = await contract.methods[selectedFunction](...functionInputValues).estimateGas();\n            console.log('Gas', gas);\n            const transactionObject = {\n              from: selectedAccount,\n              gas,\n              gasPrice: '70000000000'\n            };\n            try {\n              const startTime = performance.now();\n              // console.log(contract);\n              // console.log(selectedAccount);\n              const receipt = await contract.methods[selectedFunction](...functionInputValues).send(transactionObject);\n              const endTime = performance.now();\n              const latency = (endTime - startTime) / 1000;\n              console.log(receipt);\n              console.log('Latency: ', latency);\n            } catch (error) {\n              console.log(\"Error: \", error);\n            }\n          }\n          break;\n        case 'Throughput':\n          console.log('Input Batch: ', selectedBatch);\n          const promises = [];\n          const nonce = await web3.eth.getTransactionCount(selectedAccount);\n          const gas = await contract.methods[selectedFunction](...functionInputValues).estimateGas();\n          for (let i = 0; i < Number(selectedBatch); i++) {\n            if (ftn[0].stateMutability === 'pure' || ftn[0].stateMutability === 'view') {\n              console.log('AT if TPS');\n              promises.push(new Promise(async (resolve, reject) => {\n                try {\n                  const response = await contract.methods[selectedFunction](...functionInputValues).call();\n                  // console.log('TPS response: ', response);\n                  resolve(response);\n                } catch (error) {\n                  reject(error);\n                }\n              }));\n            } else {\n              const transactionObject = {\n                from: selectedAccount,\n                gas,\n                gasPrice: '70000000000',\n                nonce: Number(nonce) + i\n              };\n              promises.push(new Promise(async (resolve, reject) => {\n                try {\n                  const receipt = await contract.methods[selectedFunction](...functionInputValues).send(transactionObject);\n                  // console.log('TPS response: ', response);\n                  resolve(receipt);\n                } catch (error) {\n                  reject(error);\n                }\n              }));\n            }\n          }\n          const startTime = performance.now();\n          Promise.all(promises).then(receipts => {\n            const endTime = performance.now();\n            const duration = (endTime - startTime) / 1000;\n            const throughput = Number(selectedBatch) / duration;\n            console.log(`Transactions Per Second (TPS): ${throughput}`);\n            console.log(receipts);\n            // resolve({ throughput, receipts });\n          }).catch(error => {\n            console.error('Error:', error);\n            // reject(error);\n          });\n      }\n    }\n  }\n  // Render input boxes based on constructor inputs\n  const inputBoxes = constructorInputs.map((param, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: param.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: param.type,\n      value: inputValues[index] || '',\n      onChange: e => handleInputChange(index, e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 13\n    }, this)]\n  }, index, true, {\n    fileName: _jsxFileName,\n    lineNumber: 365,\n    columnNumber: 9\n  }, this));\n  const jsxContent = /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [deployed && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Select smart contract function\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: handleFunctionChange,\n        value: selectedFunction,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select a function\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 25\n        }, this), functionInputs.map((item, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: item.name,\n          children: item.name\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 29\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true), selectedFunction && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Enter input values for the parameters of the selected function\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 21\n      }, this), functionInputs.find(item => item.name === selectedFunction).inputs.map((input, index) => /*#__PURE__*/_jsxDEV(\"input\", {\n        type: input.type,\n        placeholder: input.name,\n        value: functionInputValues[index] || '',\n        onChange: event => handlefunctionInputChange(event, index)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 29\n      }, this))]\n    }, void 0, true), selectedFunction && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Select the performance metric \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: handleMetricChange,\n        value: selectedMetric,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select a metric\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Latency\",\n          children: \"Latency\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Throughput\",\n          children: \"Throughput\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true), selectedMetric === 'Throughput' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Select input batch transactions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: handleTransactionsChange,\n        value: selectedBatch,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select a number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"10\",\n          children: \"10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"25\",\n          children: \"25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"50\",\n          children: \"50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 377,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-area\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Paste your code below:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      className: \"inner\",\n      id: \"large-text\",\n      name: \"large-text\",\n      rows: \"25\",\n      cols: \"70\",\n      value: text,\n      onChange: handleTextAreaChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Or upload the code file here:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FileUpload, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"compile-button\",\n      onClick: compileContract,\n      children: \" Compile Contract \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 13\n    }, this), inputBoxes, /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: deployContract,\n      children: \"Deploy Contract\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 13\n    }, this), jsxContent, /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: measureMetrics,\n      children: \"Measure\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 434,\n    columnNumber: 9\n  }, this);\n}\n_s(TextArea, \"KjYFyoVNHvpqQLFBLVWpEUo5yDY=\", false, function () {\n  return [useSelector];\n});\n_c = TextArea;\nexport default TextArea;\nvar _c;\n$RefreshReg$(_c, \"TextArea\");","map":{"version":3,"names":["React","useState","useEffect","axios","Web3","FileUpload","Demo","useSelector","selectAccount","jsxDEV","_jsxDEV","Fragment","_Fragment","TextArea","_s","text","setText","inputValues","setInputValues","constructorInputs","setConstructorInputs","functionInputs","setFunctionInputs","compiled","setCompiled","deployed","setDeployed","ABI","setABI","ByteCode","setByteCode","ContractAddress","setContractAddress","web3","setWeb3","selectedFunction","setSelectedFunction","functionInputValues","setfunctionInputValues","selectedMetric","setSelectedMetric","selectedBatch","setselectedBatch","account","window","ethereum","web3Instance","console","log","error","handleInputChange","index","value","newInputValues","type","Number","handleTextAreaChange","e","target","handleFunctionChange","event","handlefunctionInputChange","handleMetricChange","handleTransactionsChange","compileContract","params","contractName","sourceCode","network","response","get","data","result","abi","alert","bytecode","constructor","find","item","inputs","forEach","param","name","deployContract","api","status","url","API","perf","ftns","filter","map","func","stateMutability","measureMetrics","ftn","address","metric","ftnInputs","transactions","selectedAccount","contract","eth","Contract","startTime","performance","now","methods","call","endTime","latency","gas","estimateGas","transactionObject","from","gasPrice","receipt","send","promises","nonce","getTransactionCount","i","push","Promise","resolve","reject","all","then","receipts","duration","throughput","catch","inputBoxes","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","jsxContent","input","className","id","rows","cols","onClick","_c","$RefreshReg$"],"sources":["/home/user/Documents/Performance-main/src/Components/Text-Area/Text-Area.component.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport Web3 from \"web3\";\nimport FileUpload from \"../File/File.component\";\nimport './Text-Area.styles.css';\nimport Demo from \"./Demo\";\nimport { useSelector } from 'react-redux';\nimport { selectAccount } from \"../../accountSlice\";\n\nfunction TextArea() {\n    // Getting and setting Solidity code from text box\n    const [text, setText] = useState(\"\");\n    // Getting and setting constructor input arguments from input box(es)\n    const [inputValues, setInputValues] = useState([]);\n    // Getting and setting constructor input arguments from ABI\n    const [constructorInputs, setConstructorInputs] = useState([]);\n    // Getting and setting function input arguments from ABI\n    const [functionInputs, setFunctionInputs] = useState([]);\n    // Setting compiled to true if compile-button is pressed\n    const [compiled, setCompiled] = useState(false);\n    // Setting deployed to true if deploy-button is pressed\n    const [deployed, setDeployed] = useState(false);\n    // Getting and setting ABI from compile-button\n    const [ABI, setABI] = useState(\"\");\n    // Getting and setting Bytecode from compile-button\n    const [ByteCode, setByteCode] = useState(\"\");\n    // Getting and setting the contract address from deploy-button\n    const [ContractAddress, setContractAddress] = useState(\"\");\n    // Initializing the web3 object\n    const [web3, setWeb3] = useState(null);\n    // Getting and setting selected function of the deployed contract\n    const [selectedFunction, setSelectedFunction] = useState('');\n    // Getting and setting input parameters of selected function of the deployed contract\n    const [functionInputValues, setfunctionInputValues] = useState([]);\n    // Getting and setting the performance metric for analysis of the deployed contract\n    const [selectedMetric, setSelectedMetric] = useState('');\n    // Getting and setting the input batch transactions for throughput analysis of the deployed contract\n    const [selectedBatch, setselectedBatch] = useState('');\n    //\n    const account = useSelector(selectAccount);\n\n    useEffect(() => {\n        // Check if Web3 is available\n        if (window.ethereum) {\n            // Use MetaMask's provider\n            const web3Instance = new Web3(window.ethereum);\n            console.log(web3Instance);\n            setWeb3(web3Instance);\n        } else {\n            console.error('MetaMask not detected. Please install MetaMask.');\n        }\n    }, []);\n\n    // Function to handle changes in input values\n    const handleInputChange = (index, value) => {\n        const newInputValues = [...inputValues];\n        if (constructorInputs[index].type === 'uint256') {\n            console.log('Number');\n            newInputValues[index] = Number(value);\n        }\n        else {\n            console.log(constructorInputs);\n            newInputValues[index] = value;\n        }\n        setInputValues(newInputValues);\n    };\n\n    const handleTextAreaChange = async (e) => {\n        setText(e.target.value);\n    };\n\n    const handleFunctionChange = (event) => {\n        setSelectedFunction(event.target.value);\n        setfunctionInputValues([]); // Reset input values when the function changes\n    };\n\n    const handlefunctionInputChange = (event, index) => {\n        const newInputValues = [...inputValues];\n        newInputValues[index] = event.target.value;\n        setfunctionInputValues(newInputValues);\n    };\n\n    const handleMetricChange = (event) => {\n        setSelectedMetric(event.target.value);\n    };\n\n    const handleTransactionsChange = (event) => {\n        setselectedBatch(event.target.value);\n    }\n\n    async function compileContract() {\n        const params = {\n            contractName: 'Storage',\n            sourceCode: text,\n            network: 'Something'\n        };\n        try {\n            console.log(\"At text area\");\n            const response = await axios.get('http://10.1.33.124:8000/compile-and-deploy', { params });\n            console.log(response.data);\n            if (response.data.result.abi) {\n                window.alert('Compiled successfully');\n            } else {\n                window.alert(response.data.result);\n            }\n            setByteCode(response.data.result.bytecode);\n            setABI(response.data.result.abi)\n            // Find the constructor in the ABI\n            const constructor = response.data.result.abi.find(item => item.type === 'constructor');\n            if (constructor) {\n                // Access constructor parameters and their types\n                const constructorInputs = constructor.inputs || [];\n                console.log('Constructor Parameters:');\n                constructorInputs.forEach(param => {\n                    console.log(`Name: ${param.name}, Type: ${param.type}`);\n                });\n                setConstructorInputs(constructorInputs);\n            } else {\n                console.log('No constructor found in the ABI.');\n            }\n            console.log('Constructor Inputs', constructorInputs);\n            setCompiled(true);\n\n            // await sleep(5000);\n        } catch (error) {\n            console.error('Error fetching data:', error);\n            // console.log('Metamask', account);\n        }\n    }\n\n    // async function connectToMetaMask() {\n    //     try {\n    //         if (window.ethereum) {\n    //             const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n    //             const selectedAccount = accounts[0];\n    //             console.log('Connected to MetaMask. Selected Account:', selectedAccount);\n    //             return selectedAccount;\n    //         } else {\n    //             console.error('MetaMask not detected.');\n    //             return null;\n    //         }\n    //     } catch (error) {\n    //         console.error('Error connecting to MetaMask:', error);\n    //         return null;\n    //     }\n    // }\n\n    // Function to deploy the contract\n    const deployContract = async () => {\n        if (!compiled) {\n            window.alert('Please compile the contract first.');\n            return;\n        }\n        else if (!account) {\n            try {\n                console.log(\"At deploy contracts elif \");\n                const api = {\n                    status: false,\n                    url: '',\n                }\n                const params = {\n                    network: 'Polygon-Mumbai',\n                    API: api,\n                    ABI: Demo,\n                    ByteCode: ByteCode,\n                    inputValues: inputValues\n                };\n                const response = await axios.get('http://10.1.33.124:8000/deploy-contract', { params });\n                console.log(response.data);\n                if (response.data.result.perf) {\n                    window.alert('Measured successfully');\n                } else {\n                    window.alert('Eror during measurments: ', response.data.result.perf);\n                }\n            } catch (error) {\n                console.error('Error fetching data:', error);\n                // console.log('Metamask', account);\n            }\n        }\n        else {\n            try {\n                // Use Web3.js to create a contract instance\n                // const selectedAccount = await connectToMetaMask();\n                // const contract = new web3.eth.Contract(ABI);\n                // // Deploy the contract\n                // const deployedContract = await contract\n                //     .deploy({\n                //         data: ByteCode,\n                //         arguments: inputValues\n                //     })\n                //     .send({\n                //         from: selectedAccount,\n                //         gas: '5000000', // Adjust the gas limit accordingly\n                //     });\n                // console.log('Contract deployed at:', deployedContract.options.address);\n                // setContractAddress(deployedContract.options.address);\n                // const params = {\n                //     name: 'Something',\n                //     network: 'Polygon Mumbai',\n                //     deployer: selectedAccount,\n                //     address: deployedContract.options.address\n                // };\n                // const response = await axios.get('http://10.1.33.124:8000/write-to-contract-csv', { params });\n                // console.log(response.data);\n                const ftns = Demo\n                    .filter(item => item.type === 'function')\n                    .map(func => {\n                        return {\n                            name: func.name,\n                            type: func.type,\n                            stateMutability: func.stateMutability,\n                            // params: func.inputs.length,\n                            inputs: func.inputs.map(param => ({\n                                name: param.name,\n                                type: param.type,\n                            })),\n                        };\n                    });\n                setFunctionInputs(ftns);\n                setDeployed(true);\n            } catch (error) {\n                console.error('Error deploying smart contract:', error);\n            }\n        }\n    };\n\n    async function measureMetrics() {\n        // setDeployed(true);\n        if (!deployed) {\n            window.alert('Deploy the smart contract first')\n        }\n        else if (!account) {\n            try {\n                console.log(\"At measure metrics elif \");\n                const ftn = functionInputs.filter(item => item.name === selectedFunction);\n                const type = ftn[0].stateMutability;\n                const api = {\n                    status: false,\n                    url: '',\n                }\n                const params = {\n                    network: 'Polygon-Mumbai',\n                    API: api,\n                    ABI: Demo,\n                    address: '0x59226514FDDD51dA07dbd5adD54798F4236aBDB4',\n                    metric: selectedMetric,\n                    ftn: selectedFunction,\n                    ftnInputs: functionInputValues,\n                    type: type,\n                    transactions: selectedBatch\n                };\n                const response = await axios.get('http://10.1.33.124:8000/measure-function-call-metrics', { params });\n                console.log(response.data);\n                if (response.data.result.perf) {\n                    window.alert('Measured successfully');\n                } else {\n                    window.alert('Eror during measurments: ', response.data.result.perf);\n                }\n            } catch (error) {\n                console.error('Error fetching data:', error);\n                // console.log('Metamask', account);\n            }\n        }\n        else {\n            console.log(functionInputs);\n            console.log(selectedFunction)\n            console.log('Function Inputs: ', functionInputValues);\n            console.log('Metric: ', selectedMetric);\n            // const selectedAccount = await connectToMetaMask();\n            const selectedAccount = account;\n            // const contract = new web3.eth.Contract(ABI, ContractAddress);\n            const contract = new web3.eth.Contract(Demo, '0x59226514FDDD51dA07dbd5adD54798F4236aBDB4');\n            const ftn = functionInputs.filter(item => item.name === selectedFunction);\n            console.log('ftn', ftn);\n            switch (selectedMetric) {\n                case 'Latency':\n                    if (ftn[0].stateMutability === 'pure' || ftn[0].stateMutability === 'view') {\n                        const startTime = performance.now();\n                        const response = await contract.methods[selectedFunction](...functionInputValues).call();\n                        const endTime = performance.now();\n                        const latency = (endTime - startTime) / 1000;\n                        console.log(response);\n                        console.log('Latency: ', latency);\n                    }\n                    else {\n                        console.log('At latnecy else');\n                        // const data = contract.methods[selectedFunction](...functionInputValues).encodeABI();\n                        const gas = await contract.methods[selectedFunction](...functionInputValues).estimateGas();\n                        console.log('Gas', gas);\n                        const transactionObject = {\n                            from: selectedAccount,\n                            gas,\n                            gasPrice: '70000000000',\n                        };\n                        try {\n                            const startTime = performance.now();\n                            // console.log(contract);\n                            // console.log(selectedAccount);\n                            const receipt = await contract.methods[selectedFunction](...functionInputValues).send(transactionObject);\n                            const endTime = performance.now();\n                            const latency = (endTime - startTime) / 1000;\n                            console.log(receipt);\n                            console.log('Latency: ', latency);\n                        }\n                        catch (error) {\n                            console.log(\"Error: \", error);\n                        }\n                    }\n                    break;\n                case 'Throughput':\n                    console.log('Input Batch: ', selectedBatch);\n                    const promises = [];\n                    const nonce = await web3.eth.getTransactionCount(selectedAccount);\n                    const gas = await contract.methods[selectedFunction](...functionInputValues).estimateGas();\n                    for (let i = 0; i < Number(selectedBatch); i++) {\n                        if (ftn[0].stateMutability === 'pure' || ftn[0].stateMutability === 'view') {\n                            console.log('AT if TPS');\n                            promises.push(new Promise(async (resolve, reject) => {\n                                try {\n                                    const response = await contract.methods[selectedFunction](...functionInputValues).call();\n                                    // console.log('TPS response: ', response);\n                                    resolve(response);\n                                } catch (error) {\n                                    reject(error);\n                                }\n                            }));\n                        }\n                        else {\n                            const transactionObject = {\n                                from: selectedAccount,\n                                gas,\n                                gasPrice: '70000000000',\n                                nonce: Number(nonce) + i\n                            };\n                            promises.push(new Promise(async (resolve, reject) => {\n                                try {\n                                    const receipt = await contract.methods[selectedFunction](...functionInputValues).send(transactionObject);\n                                    // console.log('TPS response: ', response);\n                                    resolve(receipt);\n                                } catch (error) {\n                                    reject(error);\n                                }\n                            }));\n                        }\n                    }\n                    const startTime = performance.now();\n                    Promise.all(promises)\n                        .then((receipts) => {\n                            const endTime = performance.now();\n                            const duration = (endTime - startTime) / 1000;\n                            const throughput = Number(selectedBatch) / duration;\n                            console.log(`Transactions Per Second (TPS): ${throughput}`);\n                            console.log(receipts);\n                            // resolve({ throughput, receipts });\n                        })\n                        .catch((error) => {\n                            console.error('Error:', error);\n                            // reject(error);\n                        });\n            }\n        }\n    }\n    // Render input boxes based on constructor inputs\n    const inputBoxes = constructorInputs.map((param, index) => (\n        <div key={index}>\n            <label>{param.name}</label>\n            <input\n                type=\"text\"\n                placeholder={param.type}\n                value={inputValues[index] || ''}\n                onChange={(e) => handleInputChange(index, e.target.value)}\n            />\n        </div>\n    ));\n\n    const jsxContent = (\n        <div>\n            {deployed && (\n                <>\n                    <h4>Select smart contract function</h4>\n                    <select onChange={handleFunctionChange} value={selectedFunction}>\n                        <option value=\"\">Select a function</option>\n                        {functionInputs.map((item, index) => (\n                            <option key={index} value={item.name}>\n                                {item.name}\n                            </option>\n                        ))}\n                    </select>\n                </>\n            )}\n            {selectedFunction && (\n                <>\n                    <h4>Enter input values for the parameters of the selected function</h4>\n                    {functionInputs\n                        .find((item) => item.name === selectedFunction)\n                        .inputs.map((input, index) => (\n                            <input\n                                key={index}\n                                type={input.type}\n                                placeholder={input.name}\n                                value={functionInputValues[index] || ''}\n                                onChange={(event) => handlefunctionInputChange(event, index)}\n                            />\n                        ))}\n                </>\n            )}\n\n            {selectedFunction && (\n                <>\n                    <h4>Select the performance metric </h4>\n                    <select onChange={handleMetricChange} value={selectedMetric}>\n                        <option value=\"\">Select a metric</option>\n                        <option value=\"Latency\">Latency</option>\n                        <option value=\"Throughput\">Throughput</option>\n                    </select>\n                </>)}\n\n            {selectedMetric === 'Throughput' && (\n                <>\n                    <h4>Select input batch transactions</h4>\n                    <select onChange={handleTransactionsChange} value={selectedBatch}>\n                        <option value=\"\">Select a number</option>\n                        <option value=\"10\">10</option>\n                        <option value=\"25\">25</option>\n                        <option value=\"50\">50</option>\n                    </select>\n                </>\n            )}\n\n        </div>\n    );\n\n    return (\n        <div className=\"text-area\">\n            <h4>Paste your code below:</h4>\n            <textarea\n                className=\"inner\"\n                id=\"large-text\"\n                name=\"large-text\"\n                rows=\"25\"\n                cols=\"70\"\n                value={text}\n                onChange={handleTextAreaChange}\n            ></textarea>\n            <br />\n            <h4>Or upload the code file here:</h4>\n            <FileUpload></FileUpload>\n            <button className=\"compile-button\" onClick={compileContract}> Compile Contract </button>\n            {inputBoxes}\n            <button onClick={deployContract}>Deploy Contract</button>\n            {jsxContent}\n            <button onClick={measureMetrics}>Measure</button>\n        </div>\n    );\n}\nexport default TextArea;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}